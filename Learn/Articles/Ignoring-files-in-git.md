# Ignoring files in git

Системы контроля версия используются для отслеживания версий тех файлов, которые имеют ценность для репозитория. Но не все файлы такими являются. Примером не нужных в системе контроля версий файлов являются сгенерированные файлы. Например, во время компиляции и запуска C# проектов создаются директории bin/ и obj/, они хранят в себе временные файлы. Чтобы эти файлы не попали в репозиторий, а их изменения не забивали дифф в pull request'е, из нужно добавить в игнор. Для этого есть .gitignore.

.gitignore - это специальный файл git'а, в котором можно указать список файлов и директорий, которые будут игнорироваться при трекинге изменений git'ом. Такой файл создаётся в корне git репозитория и применяется на него. Пример содержимого файла:

```
# Build results
[Dd]ebug/
[Rr]elease/
[Bb]in/
[Oo]bj/
[Ll]ogs/

*.db
```

Указанные в примере строчки в этом файле будут указывать git'у на то, что нужно игнорировать директории `Debug`, `Obj`, а также любые файлы с расширением `.db`. Обычно такой файл генерируется автоматически IDE при создании проекта. Если же файл не сгенерировался, то можно найти примеры под нужную платформу и IDE. В репозитории https://github.com/github/gitignore лежат примеры .gitignore. Оттуда можно сказать пример для Visual studio и положить в корень проекта.

.gitignore позволяет указать git'у какие файлы не нужно начинать трекать. Но если так сложилось, что файлы уже попали в commit (не было в проекте .gitignore, закомитили изменения и потом добавили), то добавление .gitignore'а не приведёт к удалению и более того, файлы будут продолжать отслеживаться git'ом. Чтобы избавиться от таких файлов нужно:

1. Закрыть IDE и другие приложения, которые могут удерживать файлы или их генерировать;
2. Найти нужный .gitignore, добавить его в корень директории с репозиторием, закомитить;
3. Удалить все директории и файлы, которые не должны быть в git'е и закомитить изменения;
4. Убедиться, что при открытии IDE, компиляции и других действиях удалённые файлы не попадают в трекинг git'а

Дополнительный hard mode: для того, чтобы не только в будущем, а ещё и в прошлом не сталкиваться с не нужными файлами, можно воспользоваться git командами для удаления изменения из старых комитов - git filter-branch. Но стоит помнить, что изменения комита в прошлом - это буквально пересоздание его, а значит нужно будет делать force push, а изменения будут несовместимы с тем, что в параллель могли делать коллеги. И всегда есть возможность случайно убить всю историю.
