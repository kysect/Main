# Эстимейты

## Что такое эстимейт

Эстимет - это приблизительная оценка времени выполнения задачи, которую дают разработчики, чтобы ориентироваться сколько в целом работы нужно выполнить. Но так бывает не всегда. Когда речь заходит за эстимейты, в первую очередь нужно засинкаться на тему того, что именно вкладывается в этот термин.

Эстимейт - это оценка. Это то, что обычно имеют ввиду разработчики. Они пытаются оценить приблизительно сколько займёт времени разработка. В этом контексте более правильным будет считать оценку не как конкретное значение, а как вероятностное распределение. Говоря, что задачу оценили в 4 часа может подразумеваться то, что она _вероятнее всего_ будет сделана за 4 часа. Но есть вероятность, что за 2 или 6. Одной из хороших практик при эстимировании является как раз таки такое трёх переменное описание эстимейта - пессимистическая, оптимистическая и оптимальная. При этом крайние оценки должны быть очень мало вероятными и задавать границы. Основываясь на три значения куда проще выстраивать дальнейшие планы.

Эстимейт - это обязательство. Из реальной жизни вне программирования мы чаще видим ситуации, когда под "это будет сделано за два дня" подразумевают не вероятность, а договорённость о выполнении. Если не проговорить "с большой вероятностью я сделаю это за два дня", то через два дня к вам уже будут идти за результатом. В программировании такое тоже бывает, особенно на стыке с бизнесом. Например, если представители компании хотят получить демо продукта и спрашивают "когда", то они хотят услышать не эстимейт, а обязательство разработчика о том, что демо точно будет к определённому сроку и что он сделает всё возможное. Это связано обычно с тем, что на этих обязательствах строят дальнейшую работу и перестроить её будет очень дорого или невозможно.

## Подготовка к оценке

Оценка задачи могут сводится к торговле. Важно понимать, что у всех свои интересы относительно задачи. Менеджеры высшего звена всегда заинтересованы в том, чтобы сделать больше и быстрее. Оно и понятно, это их деньги. Иногда другие разработчики могут ставить вам задачи и они тоже будет заинтересованы в том, чтобы работа была выполнена максимально быстро т.к. на этом может блокироваться их работа. Но человек, который будет выполнять задачу и давать окончательную оценку должен давать отчёт тому, что его оценка должна строится на объеме работ, а не на ожиданиях других. Может сложится ситуация, когда разработчик оценил работу в 5 дней, а менеджеры очень настойчиво спрашивают "а может таки 3?" ввиду того, что им через 3 дня важно иметь результат. И тут уже появляется ответственность. Если разработчик соглашается, то он берёт обязательство на то, чтобы всё было сделано за 3 дня. Вероятно, подразумевая свои 14 часовые посиделки за работой. Но стоит понимать, что это не является демонстрацией профессионального поведения, а скорее наоборот.

Бывают моменты, когда задачи уже обсудили и ставят разработчика перед фактом. Это в целом не очень приятная ситуация (если только он сам на это не согласился или у него не хватает экспертизы для оценки). В ситуации, когда появляется понимание о невозможности получить результат в срок, нужно как можно раньше об этом уведомить, чтобы хоть как-то попытаться спасти ситуацию. Ещё одна ситуация, когда оценка может быть очень неправильной - это не точные требования, которые проявляются. Если вы согласились сделать статическую страницу за две недели, а через пару дней общения с аналитиками выяснили, что часть контента должна динамически подгружаться, то нужно срочно запускать процесс повторных обсуждений. Нужно донести до менеджеров, что в эстимейты закладывали другой функционал и либо его не будет, либо нужно делать переоценку и давать другой эстимейт.

## Оценка

Единого плана по тому, как правильно делать оценку отдельно взятой задачи нет и, вероятно, не будет. Есть лишь ряд предложений и утверждений, которые упрощают жизнь:

- Декомпозиция. Сложно посчитать за сколько можно добраться из точка А в точку Б, но если путь разделить на отдельные отрезки (отдельно часть, где нужно идти, ехать на автобусе или метро), то каждую отдельно взятую часть оценивать проще. Погрешности в декомпозированных оценках могут перекрывать друг друга и с какой-то вероятностью дать более точные прогнозы. Декомпозированные задачи могут дать понять на более ранних этапах, что оценка не сходиться. Таким образом, сделав 1/5 задач и потратив в полтора раза больше времени, можно сделать вывод, что оценка не удалась и пересчитать её для остальных, а не получать итоговый промах в 50%.
- В общем случае оценить задачу сложно, обычно её оценивают исходя из опыта решения подобных задач. Чем больше опыта решений подобных однотипных простых задач, тем больше вероятность, что среднее время выполнения этих задач и будет эстимейтом.
- Если есть очень большое недопонимание с чем нужно работать и насколько это будет затратно, то вместо оценки можно взять время на предварительный ресёрч, который сможет помочь опять грубину проблемы и дать более точный эстимейт.

При эстимировании стоит учитывать, что программисты всегда склонны переоценивать скорость и недооценивать сложность, получая эстимейты за которыми не угнаться. Проблема в том, что часто из эстимирования выпадает время на проблемы возникающие, необходимость переключаться на второстепенную активность (митинги, код ревью и прочее). Этому стоит уделять внимание. Кроме этого, улучшить оценку можно считая три разные оценки - ожидаемую/оптимистичную/пессимистическую. Это даст более полную картину команде. Ну и самое главное правило эстимирования для разработчиков - умножайте на два. Если вы посчитали сколько приблизительно нужно времени на реализацию - умножайте её на два и озвучивайте.

Иногда в командах практикуют разновидности покер планинга. Идея заключается в том, что команды собирается вместе для оценки задач. Берётся отдельно каждая задача, озвучивается, обсуждается. После этого каждый из команды прикидывает её оценку. По сигналу команда предоставляет карту с указанной оценкой. Начинается анализ. Если все оценили задачу около одинаково, то это фиксируется. Если появился выброс, то это повод человеку озвучить почему он дал именно такую оценку, обсудить более детально, чтобы у всей команды сошлось понимание.

## Управление последствиями

- Гонки при отставании

> TODO: I2 расписать про процесс, когда пытаются ускорить закрытие проекта докидыванием людей