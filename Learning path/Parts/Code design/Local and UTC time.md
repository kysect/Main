# Local and UTC time

> TODO

## DateTime. Local and UTC time

Работа со временем не такая очевидная, как может показаться. Можно выделить два типа времени - локальное и UTC (упустим момент, когда оно Undefined, это значит, что уже проиграли). Пока нас не волнует время совсем, мы можем использовать везде локальное время. Но если нужно реализовать веб сервис (например, мессенджер), то даты в базе храниться должны в едином виде, иначе не ясно как их интерпретировать. В таких случаях обычно используется UTC время, чтобы быть независимым от пользователя и локации. Но у нас остаётся возможность прочитать UTC и перевести его под часовой пояс пользователя.

При этом использование UTC времени в логике приложения может вводить в заблуждение. Например, если пользователь туду листа запросит у приложения задачи за сегодня в час ночи, когда по UTC времени ещё меньше полуночи, то ответ будет не таким, как ожидает пользователь. Также весь UI должен быть юзерфрендли и не должен содержать UTC время, которое вводит в заблуждение пользователя.

Проблемным моментом является определение типа времени. Не смотря на то, что DateTime даже есть поле с указанием типа, оно может не быть инициализировано, если мы читает информацию с базы или консоли. Сложно определиться является ли время UTC читая код. Из-за этого часто может происходить проблема, когда прочитали время, решили что оно UTC и добавили сдвиг до локального, хотя оно изначально было локальным. Такую проблему с библиотеке NodaTime решили вводом отдельных типов для Local- и ZonedDateTime

## Sources

- https://nodatime.org/2.4.x/api/NodaTime.LocalDateTime.html